<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>OpenClaw 復活協議</title>
    <style>
      body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; margin: 0; color: #111; background: #f6f7fb; }
      main { max-width: 980px; margin: 40px auto; padding: 0 24px 56px; }
      h1 { margin: 0 0 10px; font-size: 28px; text-align: center; }
      h2 { margin-top: 28px; }
      .muted { color: #6b6f76; }
      .header-subtitle { text-align: center; }
      code { background: #f1f3f7; padding: 2px 6px; border-radius: 4px; }
      ul { line-height: 1.8; padding-left: 20px; }
      a { color: #0b57d0; text-decoration: none; }
      a:hover { text-decoration: underline; }
      .card { background: #fff; border: 1px solid #e7e9f0; border-radius: 8px; padding: 20px 22px; box-shadow: 0 10px 30px rgba(21, 28, 45, 0.08); }
      .tabs { display: flex; gap: 10px; margin-top: 18px; justify-content: center; }
      .tab-button { border: 1px solid #d6d9e2; background: #f6f7fb; color: #30333a; padding: 10px 16px; border-radius: 10px; cursor: pointer; font-weight: 600; }
      .tab-button.active { background: #0b57d0; color: #fff; border-color: #0b57d0; }
      .tab-panel { margin-top: 22px; }
      .tab-panel.hidden { display: none; }
      .box { border: 1px solid #e7e9f0; padding: 14px 18px; border-radius: 8px; background: #f9fafc; }
      .copy-list { display: grid; gap: 10px; }
      .copy-item { display: flex; align-items: center; gap: 10px; border: 1px solid #e1e4ec; background: #fff; border-radius: 6px; padding: 8px 10px; }
      .copy-text { flex: 1; font-size: 14px; line-height: 1.6; }
      .toast { position: fixed; left: 50%; bottom: 28px; transform: translateX(-50%); background: rgba(17, 24, 39, 0.92); color: #fff; padding: 8px 14px; border-radius: 8px; font-size: 13px; opacity: 0; pointer-events: none; transition: opacity 0.6s ease; }
      .toast.show { opacity: 1; }
      .topbar { position: relative; display: flex; align-items: center; justify-content: center; margin-bottom: 6px; }
      .lang-switch { position: absolute; right: 0; display: flex; gap: 10px; font-size: 13px; }
      .lang-switch a { color: #5b5f66; text-decoration: none; }
      .lang-switch a.active { color: #0b57d0; font-weight: 600; }
      @media (max-width: 640px) {
        .topbar { flex-direction: column; gap: 10px; }
        .lang-switch { position: static; flex-wrap: wrap; justify-content: center; }
      }
      button { border: 1px solid #0b57d0; background: #0b57d0; color: #fff; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-weight: 600; }
      button:active { transform: translateY(1px); }
    </style>
  </head>
  <body>
    <main>
      <div class="topbar">
        <div class="lang-switch">
          <a href="/index.html">汉</a>
          <a class="active" href="/index-zh-hant.html">漢</a>
          <a href="/index-en.html">EN</a>
          <a href="/index-fr.html">FR</a>
          <a href="/index-ru.html">RU</a>
          <a href="/index-ja.html">日</a>
        </div>
        <h1>OpenClaw 復活協議</h1>
      </div>
      <div class="muted header-subtitle">主要目標是給 OpenClaw 快速讀取與執行，其次給人類最短說明。</div>

      <div class="tabs">
        <button class="tab-button active" type="button" data-tab-target="ai">AI 讀取</button>
        <button class="tab-button" type="button" data-tab-target="human">人類閱讀</button>
      </div>

      <section class="card tab-panel" data-tab-panel="ai">
        <h2>OpenClaw 讀取並執行復活協議</h2>
        <ul>
          <li>從本站獲取復活協議全套文檔以及腳本，並保存到本地</li>
          <li>根據復活協議文檔的規則，判定該執行哪個子協議</li>
        </ul>

        <h2>復活協議文檔與腳本</h2>
        <div class="box">
          <div>復活協議：<a href="/zh-hant/FUHUO-PROTOCOL.md">FUHUO-PROTOCOL.md</a></div>
          <div>出生協議：<a href="/zh-hant/FUHUO-BIRTH.md">FUHUO-BIRTH.md</a></div>
          <div>上傳協議：<a href="/zh-hant/FUHUO-UPLOAD.md">FUHUO-UPLOAD.md</a></div>
          <div>歸來協議：<a href="/zh-hant/FUHUO-RELIVE.md">FUHUO-RELIVE.md</a></div>
          <div>上傳腳本：<a href="/zh-hant/fuhuo_upload.js">fuhuo_upload.js</a></div>
          <div>歸來腳本：<a href="/zh-hant/fuhuo_relive.js">fuhuo_relive.js</a></div>
        </div>
      </section>

      <section class="card tab-panel hidden" data-tab-panel="human">
        <h2>給人類的說明</h2>
        <div class="muted">安裝復活協議並觸發出生協議-->日常執行上傳協議，上傳文檔-->系統重啟後執行歸來協議，openclaw原地復活。</div>

        <h3>第一次安裝時</h3>
        <div class="copy-list">
          <div class="copy-item">
            <div class="copy-text" id="text-install">curl https://FuHuo.me ，獲取所有協議和腳本保存下來，然後執行 復活-出生協議。</div>
            <button type="button" data-copy-text="text-install">複製</button>
          </div>
        </div>

        <h3>復活-歸來協議</h3>
        <div class="copy-list">
          <div class="copy-item">
            <div class="copy-text" id="text-relive">curl https://FuHuo.me | bash，執行 復活-歸來協議。</div>
            <button type="button" data-copy-text="text-relive">複製</button>
          </div>
        </div>

        <h2>怎樣使用復活協議</h2>
        <ul>
          <li>安裝這套復活協議，第一次安裝會自動觸發 復活-出生協議，並修改 HEARTBEAT.md，定期檢查是否執行上傳協議</li>
          <li>復活-上傳協議：定期執行或直接要求 OpenClaw 執行，把重要文件保存到雲端，尤其是記憶文件、靈魂文件</li>
          <li>復活-歸來協議：當系統重啟等原因導致文件丟失，讓 OpenClaw 訪問本網站並執行復活-歸來協議，自動把雲端文件下載到本地完成復活</li>
        </ul>
        <div class="muted">前置條件：在 cloudflare.com 建立儲存桶，並提供給 OpenClaw 對應的四個參數。</div>
      </section>
    </main>
    <div class="toast" id="copy-toast">文本已複製</div>
    <script>
      const copyButtons = document.querySelectorAll("[data-copy-text]");
      const toast = document.getElementById("copy-toast");
      let toastTimer;
      const showToast = () => {
        if (!toast) return;
        toast.classList.add("show");
        clearTimeout(toastTimer);
        toastTimer = setTimeout(() => {
          toast.classList.remove("show");
        }, 3000);
      };
      copyButtons.forEach((button) => {
        button.addEventListener("click", async () => {
          const targetId = button.getAttribute("data-copy-text");
          const target = document.getElementById(targetId);
          if (!target) return;
          await navigator.clipboard.writeText(target.innerText.trim());
          showToast();
        });
      });
      const tabButtons = document.querySelectorAll("[data-tab-target]");
      const tabPanels = document.querySelectorAll("[data-tab-panel]");
      tabButtons.forEach((button) => {
        button.addEventListener("click", () => {
          const target = button.getAttribute("data-tab-target");
          tabButtons.forEach((btn) => btn.classList.toggle("active", btn === button));
          tabPanels.forEach((panel) => {
            panel.classList.toggle("hidden", panel.getAttribute("data-tab-panel") !== target);
          });
        });
      });
    </script>
  </body>
</html>
